# Abstract Factory 

# 1. 추상 펙토리 패턴

펙토리 패턴은 조건에 따른 객체 생성을 팩토리 클래스로 위임하여, 펙토리 클래스에서 객체를 생성하는 패턴이다. 다만 객체 인스턴스를 직접 만들어 제공하는 *일반 펙토리 패턴은 구상 클래스에 의존해야 하므로 펙토리 패턴으로 만드는 객체와 강한 결합도를 지닌다.* 따라서 구상 클래스의 의존성을 줄이기 위해 추상 팩토리 패턴을 사용한다.

**추상 팩토리 패턴이란 구상 클래스에 의존하지 않고도 서로 연관되거나 의존적인 객체로 이루어진 제품군을 생산하는 인터페이스를 제공합니다.** 구상 클래스는 서브 클래스에서 만듭니다.

추상 클래스는 여러 종류의 연관 있는 객체를 생성할 때 각 종류별 팩토리 클래스 대신 관련 있는 객체들을 일관성 있게 생성하는 추상 팩토리를 사용하는 것이 적합하다.

반면 단순하게 코드와 인스턴스 생성 코드를 분리하고 싶다면 펙토리 메소드 패턴을 사용하는 것이 적합하다.



## 1-2. 의존성 뒤집기 원칙

의존성 뒤집기 원칙을 지키려면 아래 원칙이 필요하다.

1. 변수에 구상 클래스의 참조값을 저장하지 않는다.
2. 구상 클래스에서 유도된 클래스를 만들지 않는다.
   - 특정 구상 클래스에 의존할 수 있다. 따라서 인터페이스나 추상 클래스처럼 추상화된 것으로 부터 클래스가 나와야 한다.
3. 베이스 클래스에 이미 구현된 메소드를 오버라이드 하지 않는다.

# 2. 추상 팩토리의 구성

![2](https://user-images.githubusercontent.com/68282095/179520479-3dbbd76b-3b4f-409f-8b73-388cf717f785.png)

- Factory
  - AbstractFactory : 모든 구상 팩토리에서 구현해야 하는 인터페이스, 제품을 생산할 때 일련의 메소드가 정의
  - ConcreteFactory : 구상 팩토리, 서로 다른 제품군을 각 구상 팩토리가 구현한다.
- Product
  - AbstractProduct : 제품군, 각 구상 팩토리에서 필요한 제품을 모두 만들 수 있다.